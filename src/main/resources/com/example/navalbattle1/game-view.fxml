<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>

<BorderPane xmlns="http://javafx.com/javafx/17"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.example.navalbattle1.Controller.GameController"
            prefHeight="800.0" prefWidth="1400.0"
            style="-fx-background-color: #0d1b2a;">

    <!-- ================= HEADER ================= -->
    <top>
        <VBox style="-fx-background-color: linear-gradient(to right, #1b263b, #415a77);">
            <HBox alignment="CENTER" spacing="50" style="-fx-padding: 20;">
                <HBox alignment="CENTER" spacing="10" HBox.hgrow="ALWAYS">
                    <Label text="âš“" textFill="#FFD700">
                        <font><Font size="32"/></font>
                    </Label>
                    <Label text="BATALLA NAVAL" textFill="#FFD700">
                        <font><Font name="System Bold" size="28"/></font>
                    </Label>
                </HBox>

                <VBox alignment="CENTER_RIGHT" spacing="5">
                    <Label fx:id="playerNameLabel" text="Jugador: ---" textFill="WHITE">
                        <font><Font name="System Bold" size="16"/></font>
                    </Label>
                    <Label text="Barcos hundidos: 0/10" textFill="#87CEEB"/>
                </VBox>

                <VBox alignment="CENTER_RIGHT" spacing="5">
                    <Label text="Oponente: Computadora" textFill="WHITE">
                        <font><Font name="System Bold" size="16"/></font>
                    </Label>
                    <Label text="Barcos hundidos: 0/10" textFill="#FF6B6B"/>
                </VBox>
            </HBox>

            <HBox alignment="CENTER" style="-fx-background-color: rgba(0,0,0,0.3); -fx-padding: 10;">
                <Label fx:id="turnLabel" text="ðŸŽ¯ Turno del jugador" textFill="#00FF00">
                    <font><Font name="System Bold" size="16"/></font>
                </Label>
            </HBox>
        </VBox>
    </top>

    <!-- ================= CENTRO ================= -->
    <center>
        <HBox alignment="CENTER" spacing="40" style="-fx-padding: 30;">

            <!-- ===== TABLERO JUGADOR ===== -->
            <VBox alignment="TOP_CENTER" spacing="15"
                  style="-fx-background-color: rgba(26, 58, 82, 0.5);
                         -fx-background-radius: 15;
                         -fx-padding: 20;">

                <Label text="ðŸ›¡ï¸ TU TERRITORIO" textFill="#87CEEB">
                    <font><Font name="System Bold" size="20"/></font>
                </Label>
                <Label text="(Solo observaciÃ³n)" textFill="#B0BEC5">
                    <font><Font name="System Italic" size="12"/></font>
                </Label>

                <!-- STACKPANE = CAPAS -->
                <StackPane prefWidth="360" prefHeight="360"
                           alignment="TOP_LEFT">

                <!-- Grid (agua + disparos) -->
                    <GridPane fx:id="positionBoardGrid"
                              hgap="2" vgap="2"
                              prefWidth="360" prefHeight="360"
                              style="-fx-background-color: black; -fx-padding: 5;"/>

                    <!-- Capa de barcos 2D -->
                    <Pane fx:id="playerShipsLayer"
                          pickOnBounds="false"/>
                </StackPane>
            </VBox>

            <!-- ===== TABLERO ENEMIGO ===== -->
            <VBox alignment="TOP_CENTER" spacing="15"
                  style="-fx-background-color: rgba(82, 26, 26, 0.5);
                         -fx-background-radius: 15;
                         -fx-padding: 20;">

                <Label text="ðŸŽ¯ TERRITORIO ENEMIGO" textFill="#FF6B6B">
                    <font><Font name="System Bold" size="20"/></font>
                </Label>
                <Label text="(Haz clic para disparar)" textFill="#B0BEC5">
                    <font><Font name="System Italic" size="12"/></font>
                </Label>

                <GridPane fx:id="mainBoardGrid"
                          hgap="2" vgap="2"
                          prefWidth="360" prefHeight="360"
                          style="-fx-background-color: black; -fx-padding: 5;"/>
            </VBox>

            <!-- (LABEL NUEVO CON INFORMACIÃ“N DEL ENEMIGO) -->
            <VBox alignment="TOP_CENTER"
                  spacing="10"
                  prefWidth="180"
                  style="-fx-background-color: rgba(255,255,255,0.05);
                 -fx-background-radius: 12;
                 -fx-padding: 15;">

                <Label fx:id="enemyInfoLabel"
                       text="InformaciÃ³n del enemigo"
                       textFill="#D0D0D0"
                       wrapText="true"
                       textAlignment="CENTER">
                    <font>
                        <Font size="14"/>
                    </font>
                </Label>

            </VBox>
        </HBox>
    </center>

    <!-- ================= FOOTER ================= -->
    <bottom>
        <VBox style="-fx-background-color: #1b263b;">
            <HBox alignment="CENTER" spacing="20" style="-fx-padding: 15;">

                <Button fx:id="exitButton" text="ðŸšª Salir"
                        onAction="#handleExit"/>
            </HBox>
        </VBox>
    </bottom>
</BorderPane>
